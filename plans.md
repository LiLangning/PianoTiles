# 钢琴块功能设计书

## 项目目标

在电脑端实现音乐游戏钢琴块（又称别踩白块儿）。玩家可以通过键盘或鼠标消除黑块，同时避免踩到白块。用户得分由踩点准确度、方块是否带有彩蛋等因素决定。游戏开始前，用户需要注册。个人账户中记录了个人的既往成绩， 以及偏好的游戏设置。

## 功能设计

### 游戏板块

#### 钢琴块的生成

1. 根据配置文件下落黑块， 黑块包括点击块和长按块两种，前者仅需点击一次，后者需要长按至黑块结束
2. 根据难度设定随机下落白块，如果玩家点到，则游戏结束
3. 随机生成彩蛋块，击中有额外加分

#### 钢琴块的点击

1. 在窗口底部设定一条判定线，黑块在落在判定线下之前未被点击，那么游戏结束
2. 如果在长按块结束之前松开按键，那么游戏结束
3. 点击时，根据黑块底端与判定线的接近程度，判定good / perfect，有额外加分

#### 游戏结束提示

1. 屏幕显示得分和坚持时间
2. 请用户选择重开或结束游戏

### 用户板块

#### 注册/登录

1. 注册时要求用户输入用户名和密码，并二次确认密码
2. 注册完成后回到登录界面，正确登录后即可浏览个人战绩、游戏设置，或开始游戏

#### 游戏设置

1. 选择轨道数量
2. 游戏难度：难度越高，乐曲播放速度越快，击中黑块的得分越高
3. 计时模式 / 通关模式：计时模式下乐曲循环播放，直至犯规后停止；通关模式下乐曲仅播放一次

#### 排行榜

1. 可以查看所有用户得分的排名，其他用户名会打码保护隐私

### UI板块

1. 用户可以自定义游戏背景
2. 用户可以选择钢琴块的颜色

